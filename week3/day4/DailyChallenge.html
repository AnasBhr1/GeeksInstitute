<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Challenge: Mad Libs</title>
</head>
<body>

    <h1>Mad Libs</h1>

    <form id="libform">
        <label for="noun">Noun:</label><input type="text" id="noun"><br>
        <label for="adjective">Adjective:</label><input type="text" id="adjective"><br>
        <label for="person">Someone's Name:</label><input type="text" id="person"><br>
        <label for="verb">Verb:</label><input type="text" id="verb"><br>
        <label for="place">A place:</label><input type="text" id="place"><br>
        <button id="lib-button">Lib it!</button>
    </form>

    <p>Generated story: 
    <span id="story"></span>
    </p>

    <button id="shuffle">Shuffle Story</button>

    <script>
        const stories = [
            "Once upon a time, a/an <adjective> <noun> went to <place> with <person> to <verb> all day long.",
            "The <adjective> <noun> and <person> decided to <verb> at the <place> while everyone watched.",
            "In a faraway <place>, a <noun> tried to <verb> with <person> while the <adjective> weather made it difficult."
        ];

        // Get the form and elements
        const form = document.getElementById('libform');
        const storyContainer = document.getElementById('story');
        const shuffleButton = document.getElementById('shuffle');
        
        // Function to generate the story based on user input
        function generateStory(event) {
            event.preventDefault();

            // Retrieve input values
            const noun = document.getElementById('noun').value;
            const adjective = document.getElementById('adjective').value;
            const person = document.getElementById('person').value;
            const verb = document.getElementById('verb').value;
            const place = document.getElementById('place').value;

            // Make sure values are not empty
            if (!noun || !adjective || !person || !verb || !place) {
                alert('Please fill in all fields');
                return;
            }

            // Create the story by replacing placeholders with input values
            const story = stories[Math.floor(Math.random() * stories.length)]
                .replace('<noun>', noun)
                .replace('<adjective>', adjective)
                .replace('<person>', person)
                .replace('<verb>', verb)
                .replace('<place>', place);

            // Display the generated story
            storyContainer.textContent = story;
        }

        // Function to shuffle the story
        function shuffleStory() {
            const noun = document.getElementById('noun').value;
            const adjective = document.getElementById('adjective').value;
            const person = document.getElementById('person').value;
            const verb = document.getElementById('verb').value;
            const place = document.getElementById('place').value;

            // Make sure the values are not empty before generating a new story
            if (!noun || !adjective || !person || !verb || !place) {
                alert('Please fill in all fields');
                return;
            }

            // Create a new story randomly
            const story = stories[Math.floor(Math.random() * stories.length)]
                .replace('<noun>', noun)
                .replace('<adjective>', adjective)
                .replace('<person>', person)
                .replace('<verb>', verb)
                .replace('<place>', place);

            // Display the shuffled story
            storyContainer.textContent = story;
        }

        // Event listener for the form submission
        form.addEventListener('submit', generateStory);

        // Event listener for the shuffle button
        shuffleButton.addEventListener('click', shuffleStory);
    </script>

</body>
</html>